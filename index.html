<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n L√Ω Truy·ªán - CRUD</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üìö</span>
                    <h1>Qu·∫£n L√Ω Truy·ªán</h1>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="btnExportCSV">
                        <span class="btn-icon">üì•</span>
                        Xu·∫•t CSV
                    </button>
                    <button class="btn btn-primary" id="btnAddStory">
                        <span class="btn-icon">+</span>
                        Th√™m Truy·ªán
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Search and Filter Section -->
            <section class="filter-section">
                <div class="search-box">
                    <span class="search-icon">üîç</span>
                    <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm truy·ªán theo t√™n..." class="search-input">
                </div>
                <div class="filter-group">
                    <select id="filterGenre" class="filter-select">
                        <option value="">T·∫•t c·∫£ th·ªÉ lo·∫°i</option>
                        <option value="action">H√†nh ƒë·ªông</option>
                        <option value="romance">T√¨nh c·∫£m</option>
                        <option value="comedy">H√†i h∆∞·ªõc</option>
                        <option value="horror">Kinh d·ªã</option>
                        <option value="fantasy">Gi·∫£ t∆∞·ªüng</option>
                        <option value="drama">Drama</option>
                    </select>
                    <select id="filterStatus" class="filter-select">
                        <option value="">T·∫•t c·∫£ tr·∫°ng th√°i</option>
                        <option value="ongoing">ƒêang ti·∫øn h√†nh</option>
                        <option value="completed">Ho√†n th√†nh</option>
                        <option value="hiatus">T·∫°m d·ª´ng</option>
                    </select>
                    <select id="sortBy" class="filter-select">
                        <option value="newest">M·ªõi nh·∫•t</option>
                        <option value="oldest">C≈© nh·∫•t</option>
                        <option value="name-asc">T√™n A-Z</option>
                        <option value="name-desc">T√™n Z-A</option>
                        <option value="rating">ƒê√°nh gi√° cao</option>
                    </select>
                </div>
            </section>

            <!-- Stats Section -->
            <section class="stats-section">
                <div class="stat-card">
                    <span class="stat-icon">üìñ</span>
                    <div class="stat-info">
                        <span class="stat-number" id="totalStories">0</span>
                        <span class="stat-label">T·ªïng truy·ªán</span>
                    </div>
                </div>
                <div class="stat-card">
                    <span class="stat-icon">‚úÖ</span>
                    <div class="stat-info">
                        <span class="stat-number" id="completedStories">0</span>
                        <span class="stat-label">Ho√†n th√†nh</span>
                    </div>
                </div>
                <div class="stat-card">
                    <span class="stat-icon">üîÑ</span>
                    <div class="stat-info">
                        <span class="stat-number" id="ongoingStories">0</span>
                        <span class="stat-label">ƒêang ti·∫øn h√†nh</span>
                    </div>
                </div>
                <div class="stat-card">
                    <span class="stat-icon">üîé</span>
                    <div class="stat-info">
                        <span class="stat-number" id="filteredCount">0</span>
                        <span class="stat-label">K·∫øt qu·∫£ t√¨m ki·∫øm</span>
                    </div>
                </div>
            </section>

            <!-- Stories Table -->
            <section class="table-section">
                <div class="table-container">
                    <table class="stories-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>·∫¢nh b√¨a</th>
                                <th>T√™n truy·ªán</th>
                                <th>T√°c gi·∫£</th>
                                <th>Th·ªÉ lo·∫°i</th>
                                <th>S·ªë ch∆∞∆°ng</th>
                                <th>Tr·∫°ng th√°i</th>
                                <th>ƒê√°nh gi√°</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="storiesTableBody">
                            <!-- Stories will be rendered here -->
                        </tbody>
                    </table>
                </div>

                <!-- Empty State -->
                <div class="empty-state" id="emptyState" style="display: none;">
                    <span class="empty-icon">üì≠</span>
                    <h3>Kh√¥ng t√¨m th·∫•y truy·ªán n√†o</h3>
                    <p>Th·ª≠ thay ƒë·ªïi b·ªô l·ªçc ho·∫∑c th√™m truy·ªán m·ªõi</p>
                </div>

                <!-- Pagination -->
                <div class="pagination" id="pagination">
                    <!-- Pagination will be rendered here -->
                </div>
            </section>
        </main>

        <!-- Modal Add/Edit Story -->
        <div class="modal-overlay" id="storyModal">
            <div class="modal">
                <div class="modal-header">
                    <h2 id="modalTitle">Th√™m Truy·ªán M·ªõi</h2>
                    <button class="modal-close" id="modalClose">&times;</button>
                </div>
                <form id="storyForm" class="modal-body">
                    <input type="hidden" id="storyId">

                    <div class="form-row">
                        <div class="form-group">
                            <label for="storyName">T√™n truy·ªán <span class="required">*</span></label>
                            <input type="text" id="storyName" required placeholder="Nh·∫≠p t√™n truy·ªán">
                        </div>
                        <div class="form-group">
                            <label for="storyAuthor">T√°c gi·∫£ <span class="required">*</span></label>
                            <input type="text" id="storyAuthor" required placeholder="Nh·∫≠p t√™n t√°c gi·∫£">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="storyGenre">Th·ªÉ lo·∫°i <span class="required">*</span></label>
                            <select id="storyGenre" required>
                                <option value="">Ch·ªçn th·ªÉ lo·∫°i</option>
                                <option value="action">H√†nh ƒë·ªông</option>
                                <option value="romance">T√¨nh c·∫£m</option>
                                <option value="comedy">H√†i h∆∞·ªõc</option>
                                <option value="horror">Kinh d·ªã</option>
                                <option value="fantasy">Gi·∫£ t∆∞·ªüng</option>
                                <option value="drama">Drama</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="storyStatus">Tr·∫°ng th√°i <span class="required">*</span></label>
                            <select id="storyStatus" required>
                                <option value="">Ch·ªçn tr·∫°ng th√°i</option>
                                <option value="ongoing">ƒêang ti·∫øn h√†nh</option>
                                <option value="completed">Ho√†n th√†nh</option>
                                <option value="hiatus">T·∫°m d·ª´ng</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="storyChapters">S·ªë ch∆∞∆°ng</label>
                            <input type="number" id="storyChapters" placeholder="0" min="0">
                        </div>
                        <div class="form-group">
                            <label for="storyRating">ƒê√°nh gi√° (1-5)</label>
                            <input type="number" id="storyRating" placeholder="5" min="1" max="5" step="0.1">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="storyCover">URL ·∫£nh b√¨a</label>
                        <input type="url" id="storyCover" placeholder="https://example.com/image.jpg">
                    </div>

                    <div class="form-group">
                        <label for="storyDescription">M√¥ t·∫£</label>
                        <textarea id="storyDescription" rows="4" placeholder="Nh·∫≠p m√¥ t·∫£ truy·ªán..."></textarea>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" id="btnCancel">H·ªßy</button>
                        <button type="submit" class="btn btn-primary" id="btnSave">L∆∞u truy·ªán</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal Confirm Delete -->
        <div class="modal-overlay" id="deleteModal">
            <div class="modal modal-small">
                <div class="modal-header">
                    <h2>X√°c nh·∫≠n x√≥a</h2>
                    <button class="modal-close" id="deleteModalClose">&times;</button>
                </div>
                <div class="modal-body">
                    <p class="delete-message">B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a truy·ªán "<span id="deleteStoryName"></span>"?</p>
                    <p class="delete-warning">‚ö†Ô∏è H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c!</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="btnCancelDelete">H·ªßy</button>
                    <button class="btn btn-danger" id="btnConfirmDelete">X√≥a</button>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div class="toast" id="toast">
            <span class="toast-icon" id="toastIcon">‚úì</span>
            <span class="toast-message" id="toastMessage"></span>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>

</html>